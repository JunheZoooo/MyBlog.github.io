<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Shared Model-Immutability | Junhe(Ivy) Zou</title><meta name="author" content="Junhe(Ivy) Zou"><meta name="copyright" content="Junhe(Ivy) Zou"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Shared Model-ImmutabilityImmutability DesignImmutability is a design principle where classes and their attributes are marked as final, ensuring that the attributes are read-only and cannot be modifie">
<meta property="og:type" content="article">
<meta property="og:title" content="Shared Model-Immutability">
<meta property="og:url" content="https://junhezoooo.github.io/MyBlog.github.io/2023/07/30/JavaConcurrency4/index.html">
<meta property="og:site_name" content="Junhe(Ivy) Zou">
<meta property="og:description" content="Shared Model-ImmutabilityImmutability DesignImmutability is a design principle where classes and their attributes are marked as final, ensuring that the attributes are read-only and cannot be modifie">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://plus.unsplash.com/premium_photo-1664474619075-644dd191935f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1769&q=80">
<meta property="article:published_time" content="2023-07-30T04:00:00.000Z">
<meta property="article:modified_time" content="2023-09-08T01:50:19.420Z">
<meta property="article:author" content="Junhe(Ivy) Zou">
<meta property="article:tag" content="Java">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://plus.unsplash.com/premium_photo-1664474619075-644dd191935f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1769&q=80"><link rel="shortcut icon" href="/MyBlog.github.io/img/favicon.png"><link rel="canonical" href="https://junhezoooo.github.io/MyBlog.github.io/2023/07/30/JavaConcurrency4/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/MyBlog.github.io/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/MyBlog.github.io/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Shared Model-Immutability',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-09-07 21:50:19'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://plus.unsplash.com/premium_photo-1664474619075-644dd191935f?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=1769&amp;q=80" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/MyBlog.github.io/archives/"><div class="headline">Articles</div><div class="length-num">28</div></a><a href="/MyBlog.github.io/tags/"><div class="headline">Tags</div><div class="length-num">13</div></a><a href="/MyBlog.github.io/categories/"><div class="headline">Categories</div><div class="length-num">7</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/MyBlog.github.io/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/MyBlog.github.io/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/MyBlog.github.io/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/MyBlog.github.io/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/MyBlog.github.io/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/MyBlog.github.io/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/MyBlog.github.io/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/MyBlog.github.io/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://x.imgs.ovh/x/2023/09/08/64fa761fdd6bc.jpeg')"><nav id="nav"><span id="blog-info"><a href="/MyBlog.github.io/" title="Junhe(Ivy) Zou"><span class="site-name">Junhe(Ivy) Zou</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/MyBlog.github.io/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/MyBlog.github.io/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/MyBlog.github.io/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/MyBlog.github.io/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/MyBlog.github.io/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/MyBlog.github.io/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/MyBlog.github.io/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/MyBlog.github.io/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Shared Model-Immutability</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2023-07-30T04:00:00.000Z" title="Created 2023-07-30 00:00:00">2023-07-30</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2023-09-08T01:50:19.420Z" title="Updated 2023-09-07 21:50:19">2023-09-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/MyBlog.github.io/categories/Java/">Java</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Shared Model-Immutability"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><span id="more"></span>
<h1 id="Shared-Model-Immutability"><a href="#Shared-Model-Immutability" class="headerlink" title="Shared Model-Immutability"></a>Shared Model-Immutability</h1><h2 id="Immutability-Design"><a href="#Immutability-Design" class="headerlink" title="Immutability Design"></a>Immutability Design</h2><p>Immutability is a design principle where classes and their attributes are marked as <code>final</code>, ensuring that the attributes are read-only and cannot be modified.</p>
<h3 id="Protective-Copy"><a href="#Protective-Copy" class="headerlink" title="Protective Copy"></a>Protective Copy</h3><p>Protective copying involves creating copy objects to prevent sharing. This technique safeguards the content of arrays from being altered by other classes.</p>
<h3 id="Flyweight-Pattern"><a href="#Flyweight-Pattern" class="headerlink" title="Flyweight Pattern"></a>Flyweight Pattern</h3><p>The Flyweight pattern emphasizes data sharing to minimize resource wastage. Instead of using protective copying, it aims to wrap frequently used data in shared objects.</p>
<h1 id="Thread-Safety-Java-Memory-Model-JMM"><a href="#Thread-Safety-Java-Memory-Model-JMM" class="headerlink" title="Thread Safety: Java Memory Model (JMM)"></a>Thread Safety: Java Memory Model (JMM)</h1><h2 id="Java-Memory-Model-JMM"><a href="#Java-Memory-Model-JMM" class="headerlink" title="Java Memory Model (JMM)"></a>Java Memory Model (JMM)</h2><p>JMM defines main memory and working memory concepts, which correspond to CPU registers, caches, hardware memory, and CPU instruction optimizations. It ensures thread safety through concepts like atomicity, visibility, and ordering.</p>
<h3 id="Atomicity"><a href="#Atomicity" class="headerlink" title="Atomicity"></a>Atomicity</h3><p>Atomicity guarantees that instructions are not influenced by thread context switches.</p>
<h3 id="Visibility"><a href="#Visibility" class="headerlink" title="Visibility"></a>Visibility</h3><p>Visibility ensures that instructions are not affected by CPU caching. You can use <code>volatile</code> to address visibility issues, making variables read directly from main memory.</p>
<h3 id="Ordering"><a href="#Ordering" class="headerlink" title="Ordering"></a>Ordering</h3><p>Ordering ensures that instructions are not affected by CPU instruction parallelization. To prevent instruction reordering, <code>volatile</code> can be used.</p>
<h1 id="Thread-Safety-Shared-Models-and-Strategies"><a href="#Thread-Safety-Shared-Models-and-Strategies" class="headerlink" title="Thread Safety: Shared Models and Strategies"></a>Thread Safety: Shared Models and Strategies</h1><h2 id="Shared-Models"><a href="#Shared-Models" class="headerlink" title="Shared Models"></a>Shared Models</h2><ul>
<li><strong>Double-Checked Locking</strong>: Lazy instantiation with potential issues. Adding <code>volatile</code> to the instance variable can resolve ordering problems.</li>
<li><strong>Happens-Before</strong>: Rules that govern shared variable writes and reads, ensuring visibility and ordering.</li>
<li><strong>Read-Write Locks</strong>: Use cases for ReentrantReadWriteLock to enhance read concurrency while ensuring write exclusivity.</li>
</ul>
<h1 id="Thread-Pools"><a href="#Thread-Pools" class="headerlink" title="Thread Pools"></a>Thread Pools</h1><h2 id="ThreadPoolExecutor"><a href="#ThreadPoolExecutor" class="headerlink" title="ThreadPoolExecutor"></a>ThreadPoolExecutor</h2><p>ThreadPoolExecutor manages thread pools with states represented by an atomic variable (ctl) combining thread pool status and the number of threads.</p>
<h3 id="ThreadPool-Types"><a href="#ThreadPool-Types" class="headerlink" title="ThreadPool Types"></a>ThreadPool Types</h3><ul>
<li><strong>newFixedThreadPool</strong>: Core and maximum threads are equal, suitable for tasks with known quantities.</li>
<li><strong>newCachedThreadPool</strong>: Core threads are 0, and maximum threads are Integer.MAX_VALUE, useful for tasks with short execution times.</li>
<li><strong>newSingleThreadExecutor</strong>: Sequential execution with a single thread.</li>
<li><strong>Custom Sizing</strong>: Adjust thread pool size based on CPU characteristics (e.g., CPU-bound vs. I&#x2F;O-bound tasks).</li>
</ul>
<h1 id="Synchronization-and-Locking"><a href="#Synchronization-and-Locking" class="headerlink" title="Synchronization and Locking"></a>Synchronization and Locking</h1><h2 id="AQS-and-ReentrantLock"><a href="#AQS-and-ReentrantLock" class="headerlink" title="AQS and ReentrantLock"></a>AQS and ReentrantLock</h2><p>AbstractQueuedSynchronizer (AQS) forms the basis for various synchronization primitives like ReentrantLock.</p>
<h3 id="ReentrantLock-Principles"><a href="#ReentrantLock-Principles" class="headerlink" title="ReentrantLock Principles"></a>ReentrantLock Principles</h3><ul>
<li>Non-fair locking implementation.</li>
<li>Reentrant and interruptible locking modes.</li>
<li>Supports condition variables.</li>
<li>Shared implementation for read and write locks.</li>
</ul>
<h1 id="StampedLock"><a href="#StampedLock" class="headerlink" title="StampedLock"></a>StampedLock</h1><p>StampedLock, introduced in JDK 8, enhances read performance and supports optimistic reads. It uses “stamps” for synchronization.</p>
<h1 id="Semaphore"><a href="#Semaphore" class="headerlink" title="Semaphore"></a>Semaphore</h1><p>Semaphores limit concurrent access to shared resources by controlling the number of threads allowed.</p>
<h1 id="CountdownLatch-and-CyclicBarrier"><a href="#CountdownLatch-and-CyclicBarrier" class="headerlink" title="CountdownLatch and CyclicBarrier"></a>CountdownLatch and CyclicBarrier</h1><h2 id="CountdownLatch"><a href="#CountdownLatch" class="headerlink" title="CountdownLatch"></a>CountdownLatch</h2><p>CountdownLatch is used for thread synchronization, allowing threads to wait until a specified count reaches zero.</p>
<h2 id="CyclicBarrier"><a href="#CyclicBarrier" class="headerlink" title="CyclicBarrier"></a>CyclicBarrier</h2><p>CyclicBarrier coordinates threads by waiting for a specific number of threads to reach a barrier point before proceeding.</p>
<p>These concepts and strategies are essential for understanding thread safety and efficient concurrent programming in Java.</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://junhezoooo.github.io/MyBlog.github.io">Junhe(Ivy) Zou</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://junhezoooo.github.io/MyBlog.github.io/2023/07/30/JavaConcurrency4/">https://junhezoooo.github.io/MyBlog.github.io/2023/07/30/JavaConcurrency4/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/MyBlog.github.io/tags/Java/">Java</a></div><div class="post_share"><div class="social-share" data-image="https://plus.unsplash.com/premium_photo-1664474619075-644dd191935f?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=1769&amp;q=80" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/MyBlog.github.io/2023/08/01/JavaConcurrency5/" title="Thread-Safe Collection Classes"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Thread-Safe Collection Classes</div></div></a></div><div class="next-post pull-right"><a href="/MyBlog.github.io/2023/07/25/JavaConcurrency3/" title="Shared Model-Memory"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">Shared Model-Memory</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/MyBlog.github.io/2023/07/12/JavaConcurrency1/" title="Processes and Threads"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-12</div><div class="title">Processes and Threads</div></div></a></div><div><a href="/MyBlog.github.io/2023/07/20/JavaConcurrency2/" title="Multithreading and Concurrency Concepts"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-20</div><div class="title">Multithreading and Concurrency Concepts</div></div></a></div><div><a href="/MyBlog.github.io/2023/07/25/JavaConcurrency3/" title="Shared Model-Memory"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-25</div><div class="title">Shared Model-Memory</div></div></a></div><div><a href="/MyBlog.github.io/2023/08/01/JavaConcurrency5/" title="Thread-Safe Collection Classes"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-08-01</div><div class="title">Thread-Safe Collection Classes</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://plus.unsplash.com/premium_photo-1664474619075-644dd191935f?ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=1769&amp;q=80" onerror="this.onerror=null;this.src='/MyBlog.github.io/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Junhe(Ivy) Zou</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/MyBlog.github.io/archives/"><div class="headline">Articles</div><div class="length-num">28</div></a><a href="/MyBlog.github.io/tags/"><div class="headline">Tags</div><div class="length-num">13</div></a><a href="/MyBlog.github.io/categories/"><div class="headline">Categories</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Shared-Model-Immutability"><span class="toc-number">1.</span> <span class="toc-text">Shared Model-Immutability</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Immutability-Design"><span class="toc-number">1.1.</span> <span class="toc-text">Immutability Design</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Protective-Copy"><span class="toc-number">1.1.1.</span> <span class="toc-text">Protective Copy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Flyweight-Pattern"><span class="toc-number">1.1.2.</span> <span class="toc-text">Flyweight Pattern</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Thread-Safety-Java-Memory-Model-JMM"><span class="toc-number">2.</span> <span class="toc-text">Thread Safety: Java Memory Model (JMM)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Java-Memory-Model-JMM"><span class="toc-number">2.1.</span> <span class="toc-text">Java Memory Model (JMM)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Atomicity"><span class="toc-number">2.1.1.</span> <span class="toc-text">Atomicity</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Visibility"><span class="toc-number">2.1.2.</span> <span class="toc-text">Visibility</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Ordering"><span class="toc-number">2.1.3.</span> <span class="toc-text">Ordering</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Thread-Safety-Shared-Models-and-Strategies"><span class="toc-number">3.</span> <span class="toc-text">Thread Safety: Shared Models and Strategies</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Shared-Models"><span class="toc-number">3.1.</span> <span class="toc-text">Shared Models</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Thread-Pools"><span class="toc-number">4.</span> <span class="toc-text">Thread Pools</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ThreadPoolExecutor"><span class="toc-number">4.1.</span> <span class="toc-text">ThreadPoolExecutor</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ThreadPool-Types"><span class="toc-number">4.1.1.</span> <span class="toc-text">ThreadPool Types</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Synchronization-and-Locking"><span class="toc-number">5.</span> <span class="toc-text">Synchronization and Locking</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#AQS-and-ReentrantLock"><span class="toc-number">5.1.</span> <span class="toc-text">AQS and ReentrantLock</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ReentrantLock-Principles"><span class="toc-number">5.1.1.</span> <span class="toc-text">ReentrantLock Principles</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#StampedLock"><span class="toc-number">6.</span> <span class="toc-text">StampedLock</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Semaphore"><span class="toc-number">7.</span> <span class="toc-text">Semaphore</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#CountdownLatch-and-CyclicBarrier"><span class="toc-number">8.</span> <span class="toc-text">CountdownLatch and CyclicBarrier</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#CountdownLatch"><span class="toc-number">8.1.</span> <span class="toc-text">CountdownLatch</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#CyclicBarrier"><span class="toc-number">8.2.</span> <span class="toc-text">CyclicBarrier</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/MyBlog.github.io/2023/10/02/BLOG-2/" title="Exploring Flexibility and Improv Mindset in Life">Exploring Flexibility and Improv Mindset in Life</a><time datetime="2023-10-02T04:00:00.000Z" title="Created 2023-10-02 00:00:00">2023-10-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/MyBlog.github.io/2023/09/07/YES%20AND/" title="Yes And">Yes And</a><time datetime="2023-09-07T04:00:00.000Z" title="Created 2023-09-07 00:00:00">2023-09-07</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/MyBlog.github.io/2023/08/01/blog1/" title="MySQL Server Architecture?">MySQL Server Architecture?</a><time datetime="2023-08-01T18:33:35.000Z" title="Created 2023-08-01 14:33:35">2023-08-01</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/MyBlog.github.io/2023/08/01/JavaConcurrency5/" title="Thread-Safe Collection Classes">Thread-Safe Collection Classes</a><time datetime="2023-08-01T04:00:00.000Z" title="Created 2023-08-01 00:00:00">2023-08-01</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/MyBlog.github.io/2023/07/30/JavaConcurrency4/" title="Shared Model-Immutability">Shared Model-Immutability</a><time datetime="2023-07-30T04:00:00.000Z" title="Created 2023-07-30 00:00:00">2023-07-30</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By Junhe(Ivy) Zou</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/MyBlog.github.io/js/utils.js"></script><script src="/MyBlog.github.io/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>